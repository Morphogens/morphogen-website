<!DOCTYPE html>
<meta charset="utf-8">
<title></title>

<style>
    body { font-family: sans-serif; }
    canvas {
        display: block;
        margin: auto;
        border: 1px solid;
        max-width: 100vw;
    }
</style>

<body>
<script>
    let [ W, H ]= [ 1024, 512 ]
    let fat = false
    // let [ W, H ]= [ 10, 10 ]
    let canvas = document.createElement("canvas")
    document.body.appendChild(canvas)
    let ctx = canvas.getContext("2d")

    canvas.id = "canvas";
    canvas.width = W;
    canvas.height = H;

    ctx.font = "bold 150px Arial";
    // ctx.scale(1, 2)
    ctx.fillStyle = 'white';
    ctx.fillRect(0, 0, W, H);
    ctx.fillStyle = 'black';
    // ctx.fillText("MORPHOGEN", 15, 180);
    // ctx.fillText("GENERATIVE", 15, 120);
    // ctx.fillText("DESIGN", 15, 240);

    ctx.scale(2, 2)
    ctx.font = "bold 300px Arial";
    ctx.fillText("M", 120, 230);

    let imgData = ctx.getImageData(0, 0, W, H)
    const draw_color = fat ? 0 : 255;
    for (let s = 0; s < 30; s++) {
        let next = imgData.data.slice()//new Uint8ClampedArray(4 * W * H);

        for (let y=1; y < H-1; y++) {
            for (let x=1; x < W-1; x++) {
                let draw = 0;
                if (fat) {
                    draw = (imgData.data[ 4 * (W*y + x-1)] < 10 ||
                            imgData.data[ 4 * (W*y + x+1)] < 10 ||
                            imgData.data[ 4 * (W*(y-1) + x)] < 10 ||
                            imgData.data[ 4 * (W*(y+1) + x)] < 10)
                } else {
                    draw = (imgData.data[ 4 * (W*y + x-1)] > 10 ||
                            imgData.data[ 4 * (W*y + x+1)] > 10 ||
                            imgData.data[ 4 * (W*(y-1) + x)] > 10 ||
                            imgData.data[ 4 * (W*(y+1) + x)] > 10)
                }
                if (draw) {
                    let i = 4 * (W*y + x);
                    next[i] = draw_color
                    next[i+1] = draw_color
                    next[i+2] = draw_color
                    next[i+3] = 255
                }

            }
        }
        for (let i = 0; i < W*H*4; i++) {
            imgData.data[i] = next[i]
        }

    }
    ctx.putImageData(imgData, 0, 0);

</script>
</body>

